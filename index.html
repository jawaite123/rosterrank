<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>âš¾ RosterRank - Softball Player Ratings</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom slider styling */
    input[type="range"] {
      -webkit-appearance: none;
      appearance: none;
      background: transparent;
      cursor: pointer;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      height: 24px;
      width: 24px;
      border-radius: 50%;
      background: white;
      cursor: pointer;
      border: 3px solid currentColor;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    input[type="range"]::-moz-range-thumb {
      height: 24px;
      width: 24px;
      border-radius: 50%;
      background: white;
      cursor: pointer;
      border: 3px solid currentColor;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide React icons as inline SVGs
    const Trash2 = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
        <polyline points="3 6 5 6 21 6"></polyline>
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        <line x1="10" y1="11" x2="10" y2="17"></line>
        <line x1="14" y1="11" x2="14" y2="17"></line>
      </svg>
    );

    const Plus = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
    );

    const Download = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg>
    );

    const Edit2 = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
        <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
      </svg>
    );

    const Save = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
        <polyline points="17 21 17 13 7 13 7 21"></polyline>
        <polyline points="7 3 7 8 15 8"></polyline>
      </svg>
    );

    const X = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    );

    function SoftballPlayerRater() {
      const [players, setPlayers] = useState([]);
      const [editingId, setEditingId] = useState(null);
      const [currentPlayer, setCurrentPlayer] = useState({
        number: '',
        hitting: 5,
        popfly: 5,
        fielding: 5,
        throwing: 5,
        comments: ''
      });

      useEffect(() => {
        const saved = localStorage.getItem('softballPlayers');
        if (saved) {
          try {
            setPlayers(JSON.parse(saved));
          } catch (e) {
            console.error('Error loading saved data:', e);
          }
        }
      }, []);

      useEffect(() => {
        if (players.length > 0) {
          localStorage.setItem('softballPlayers', JSON.stringify(players));
        }
      }, [players]);

      const addPlayer = () => {
        if (currentPlayer.number.trim()) {
          const totalScore = currentPlayer.hitting + currentPlayer.popfly + currentPlayer.fielding + currentPlayer.throwing;
          
          setPlayers([...players, { ...currentPlayer, id: Date.now(), totalScore }]);
          setCurrentPlayer({
            number: '',
            hitting: 5,
            popfly: 5,
            fielding: 5,
            throwing: 5,
            comments: ''
          });
        }
      };

      const startEdit = (player) => {
        setEditingId(player.id);
        setCurrentPlayer({ ...player });
      };

      const saveEdit = () => {
        const totalScore = currentPlayer.hitting + currentPlayer.popfly + currentPlayer.fielding + currentPlayer.throwing;
        
        setPlayers(players.map(p => 
          p.id === editingId 
            ? { ...currentPlayer, totalScore }
            : p
        ));
        
        cancelEdit();
      };

      const cancelEdit = () => {
        setEditingId(null);
        setCurrentPlayer({
          number: '',
          hitting: 5,
          popfly: 5,
          fielding: 5,
          throwing: 5,
          comments: ''
        });
      };

      const deletePlayer = (id) => {
        setPlayers(players.filter(p => p.id !== id));
        if (players.length === 1) {
          localStorage.removeItem('softballPlayers');
        }
      };

      const exportData = () => {
        if (players.length === 0) {
          alert('No players to export!');
          return;
        }
        
        const headers = ['Player Number', 'Hitting', 'Pop Fly', 'Fielding', 'Throwing', 'Total Score', 'Comments'];
        
        const rows = players.map(player => [
          player.number,
          player.hitting,
          player.popfly || player.bunting || 0,
          player.fielding,
          player.throwing,
          player.totalScore,
          `"${(player.comments || '').replace(/"/g, '""')}"`
        ]);
        
        const csvContent = [
          headers.join(','),
          ...rows.map(row => row.join(','))
        ].join('\n');
        
        const dataBlob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
        const url = URL.createObjectURL(dataBlob);
        const link = document.createElement('a');
        link.href = url;
        link.download = 'softball-ratings.csv';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
      };

      const getScoreColor = (score) => {
        if (score >= 32) return 'bg-gradient-to-r from-yellow-400 to-orange-500 text-white';
        if (score >= 24) return 'bg-gradient-to-r from-green-400 to-emerald-500 text-white';
        if (score >= 16) return 'bg-gradient-to-r from-blue-400 to-cyan-500 text-white';
        return 'bg-gradient-to-r from-gray-400 to-slate-500 text-white';
      };

      const getSliderStyle = (value, color) => {
        return {
          background: `linear-gradient(to right, ${color} 0%, ${color} ${value * 10}%, #e5e7eb ${value * 10}%, #e5e7eb 100%)`,
          color: color
        };
      };

      return (
        <div className="min-h-screen bg-gradient-to-br from-green-600 via-emerald-700 to-teal-800 p-3 sm:p-6" style={{fontFamily: 'system-ui, -apple-system, sans-serif'}}>
          <div className="max-w-2xl mx-auto">
            {/* Header */}
            <div className="text-center mb-4">
              <h1 className="text-4xl sm:text-5xl font-black text-white mb-1" style={{textShadow: '3px 3px 0px rgba(0,0,0,0.3)'}}>
                âš¾ ROSTERRANK
              </h1>
              <p className="text-yellow-300 font-bold text-lg">Rate Your Players</p>
            </div>

            {/* Form */}
            <div className="bg-white rounded-2xl shadow-2xl p-4 mb-4">
              <input
                type="text"
                value={currentPlayer.number}
                onChange={(e) => setCurrentPlayer({...currentPlayer, number: e.target.value})}
                className="w-full px-4 py-3 mb-3 text-2xl font-bold text-center border-4 border-orange-400 rounded-xl focus:outline-none focus:border-orange-600"
                placeholder="# Player Number"
              />

              {/* Compact Sliders */}
              <div className="space-y-3 mb-3">
                {[
                  {key: 'hitting', label: 'âš¾ Hit', color: '#ef4444'},
                  {key: 'popfly', label: 'ðŸŽ¯ Fly', color: '#3b82f6'},
                  {key: 'fielding', label: 'ðŸ¥Ž Field', color: '#22c55e'},
                  {key: 'throwing', label: 'ðŸ’ª Throw', color: '#a855f7'}
                ].map(({key, label, color}) => (
                  <div key={key} className="flex items-center gap-3">
                    <div className="w-16 text-sm font-bold text-gray-700">{label}</div>
                    <input
                      type="range"
                      min="1"
                      max="10"
                      value={currentPlayer[key]}
                      onChange={(e) => setCurrentPlayer({...currentPlayer, [key]: parseInt(e.target.value)})}
                      className="flex-1 h-3 rounded-lg cursor-pointer"
                      style={getSliderStyle(currentPlayer[key], color)}
                    />
                    <div className="w-12 h-10 text-white font-black text-xl rounded-lg flex items-center justify-center shadow-lg" style={{backgroundColor: color}}>
                      {currentPlayer[key]}
                    </div>
                  </div>
                ))}
              </div>

              <textarea
                value={currentPlayer.comments}
                onChange={(e) => setCurrentPlayer({...currentPlayer, comments: e.target.value})}
                className="w-full px-3 py-2 mb-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-400 text-sm"
                rows="2"
                placeholder="Notes..."
              />

              {editingId ? (
                <div className="flex gap-2">
                  <button
                    onClick={saveEdit}
                    className="flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-black py-3 rounded-xl shadow-lg active:scale-95 transition"
                  >
                    <Save className="inline mr-1" size={18} />
                    SAVE
                  </button>
                  <button
                    onClick={cancelEdit}
                    className="flex-1 bg-gradient-to-r from-gray-500 to-slate-600 text-white font-black py-3 rounded-xl shadow-lg active:scale-95 transition"
                  >
                    <X className="inline mr-1" size={18} />
                    CANCEL
                  </button>
                </div>
              ) : (
                <button
                  onClick={addPlayer}
                  className="w-full bg-gradient-to-r from-orange-500 to-red-600 text-white font-black py-4 rounded-xl shadow-lg active:scale-95 transition text-lg"
                >
                  <Plus className="inline mr-2" size={22} />
                  ADD PLAYER
                </button>
              )}
            </div>

            {/* Roster */}
            {players.length > 0 && (
              <div className="bg-white rounded-2xl shadow-2xl p-4">
                <div className="flex justify-between items-center mb-3">
                  <h2 className="text-2xl font-black text-gray-800">
                    TEAM <span className="text-orange-600">({players.length})</span>
                  </h2>
                  <button
                    onClick={exportData}
                    className="bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-4 py-2 rounded-lg font-bold shadow-lg active:scale-95 transition"
                  >
                    <Download className="inline mr-1" size={16} />
                    EXPORT
                  </button>
                </div>

                <div className="space-y-2">
                  {players.sort((a, b) => b.totalScore - a.totalScore).map((player, index) => (
                    <div key={player.id} className="border-4 border-gray-200 rounded-xl p-3 bg-gradient-to-r from-gray-50 to-white">
                      <div className="flex items-center justify-between mb-2">
                        <div className="flex items-center gap-2">
                          <div className="w-8 h-8 bg-gray-800 text-yellow-400 font-black rounded-full flex items-center justify-center text-sm">
                            {index + 1}
                          </div>
                          <div className="text-2xl font-black text-gray-800">
                            #{player.number}
                          </div>
                        </div>
                        <div className="flex items-center gap-2">
                          <div className={`${getScoreColor(player.totalScore)} px-4 py-2 rounded-lg font-black text-xl shadow-lg`}>
                            {player.totalScore}
                          </div>
                          <button
                            onClick={() => startEdit(player)}
                            className="text-blue-600 active:scale-90 transition"
                          >
                            <Edit2 size={20} />
                          </button>
                          <button
                            onClick={() => deletePlayer(player.id)}
                            className="text-red-600 active:scale-90 transition"
                          >
                            <Trash2 size={20} />
                          </button>
                        </div>
                      </div>

                      <div className="flex gap-2 text-xs font-bold">
                        <div className="flex-1 bg-red-100 rounded px-2 py-1">âš¾ {player.hitting}</div>
                        <div className="flex-1 bg-blue-100 rounded px-2 py-1">ðŸŽ¯ {player.popfly}</div>
                        <div className="flex-1 bg-green-100 rounded px-2 py-1">ðŸ¥Ž {player.fielding}</div>
                        <div className="flex-1 bg-purple-100 rounded px-2 py-1">ðŸ’ª {player.throwing}</div>
                      </div>

                      {player.comments && (
                        <div className="mt-2 text-xs text-gray-600 italic bg-yellow-50 rounded p-2">
                          {player.comments}
                        </div>
                      )}
                    </div>
                  ))}
                </div>
              </div>
            )}

            {players.length === 0 && (
              <div className="bg-white rounded-2xl shadow-2xl p-8 text-center">
                <div className="text-6xl mb-3">âš¾</div>
                <p className="text-gray-500 font-bold text-lg">Add your first player!</p>
              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<SoftballPlayerRater />, document.getElementById('root'));
  </script>
</body>
</html>